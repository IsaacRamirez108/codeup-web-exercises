<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <title>Geocode Examples</title>
        <!-- Mapbox CSS -->
        <link href='https://api.tiles.mapbox.com/mapbox-gl-js/v0.53.0/mapbox-gl.css' rel='stylesheet' />
        <!-- Custom CSS -->
        <style>
            #map {
                /* the width and height may be set to any size */
                width: 80%;
                height: 600px;
            }
        </style>
    </head>
    <body>

        <h1>Weather Map Project</h1>

        <!-- The HTML element that serves as the Mapbox container -->
        <div id='map'></div>

        <!-- Mapbox JS -->
        <script src='https://api.tiles.mapbox.com/mapbox-gl-js/v0.53.0/mapbox-gl.js'></script>

        <!-- Mapbox Geocoder Util Methods -->
        <script src="js/mapbox-geocoder-utils.js"></script>

        <!-- Custom JS -->
        <script src="https://code.jquery.com/jquery-2.2.4.min.js" integrity="sha256-BbhdlvQf/xTY9gja0Dq3HiwQF8LaCRTXxZKRutelT44=" crossorigin="anonymous"></script>
        <script src="Keys/Keys.js"> </script>
        <script>

            // Weather API
            // let lat = 37.5665;
            // let long = 126.9780;
            // $.get("http://api.openweathermap.org/data/2.5/forecast?lat="+ lat +"&lon="+ long +"&appid=" + OPEN_WEATHER_APPID + "&units=metric").done(function(data) {
            //     let reports = data.list;
            //     for(let i = 0; i < reports.length; i += 8) {
            //         // should get 5 objects back
            //         console.log(reports[i]);
            //     }
            // });


            // MapBox API
            mapboxgl.accessToken = mapKey;
            var map = new mapboxgl.Map({
                container: 'map',
                style: 'mapbox://styles/mapbox/streets-v9',
                zoom: 10,
                center: [-98.4916, 29.4252]
            });

            // the  geocode method from mapbox-geocoder-utils.js
            geocode("849 E Commerce St #393, San Antonio, TX 78205", mapKey).then(function(result) {
                console.log(result);
                map.setCenter(result);
                map.setZoom(20);
            });

        </script>
    </body>
</html>